services:
  whatsapp-api:
    build: .
    container_name: envios-express-container
    restart: always
    ports:
      - "4010:4010"
    volumes:
      # Volumen nombrado para sesiones (m√°s estable)
      - wwebjs_auth:/usr/src/app/.wwebjs_auth
      - wwebjs_cache:/usr/src/app/.wwebjs_cache
      - ./logs:/usr/src/app/logs
    environment:
      - NODE_ENV=production
    networks:
      - whatsapp-network

networks:
  whatsapp-network:
    driver: bridge

volumes:
  wwebjs_auth:
    driver: local
  wwebjs_cache:
    driver: local
